const rand = Math.random
const pick = arr => {
  const max = arr.length
  return () => arr[~~(rand() * max)]
}
const prefix = pick([
  'Algo',
  'Alpha',
  'Apt',
  'Arche',
  'Area',
  'Auto',
  'Baz',
  'Batch',
  'Beta',
  'Bio',
  'Brain',
  'Buzz',
  'Cell',
  'Chip',
  'Chroma',
  'Clap',
  'Clev',
  'Comp',
  'Crack',
  'Crack',
  'Cy',
  'Cyber',
  'Cyborg',
  'Data',
  'Ding',
  'Dist',
  'Divi',
  'Diz',
  'Dyna',
  'Dyno',
  'Doodad',
  'Droi',
  'Ego',
  'Electr',
  'Ergo',
  'Exa',
  'Exper',
  'Ext',
  'Extra',
  'Fast',
  'Foo',
  'Fuzz',
  'Giga',
  'Gizmo',
  'Glitch',
  'Gold',
  'Hack',
  'Hak',
  'Handy',
  'Head',
  'In',
  'Inner',
  'Insta',
  'Inter',
  'Intra',
  'Iron',
  'Item',
  'Jugger',
  'Keen',
  'Krack',
  'Laser',
  'Lasor',
  'Lazer',
  'Lazor',
  'Lead',
  'Load',
  'Lord',
  'Master',
  'Mecha',
  'Mega',
  'Metal',
  'Micro',
  'Min',
  'Mix',
  'Nativ',
  'Net',
  'Neet',
  'Nerd',
  'Out',
  'Outer',
  'Over',
  'Play',
  'Powa',
  'Power',
  'Prim',
  'Pro',
  'Proto',
  'Pseudo',
  'Pure',
  'Quick',
  'Quinte',
  'Ration',
  'Razor',
  'Repli',
  'Rig',
  'Segm',
  'Self',
  'Set',
  'Sharp',
  'Shoot',
  'Skill',
  'Spe',
  'Star',
  'Super',
  'Sy',
  'Synth',
  'Techno',
  'Telsa',
  'Time',
  'Tin',
  'Tool',
  'Total',
  'Trace',
  'Trans',
  'Trig',
  'Troop',
  'Turbo',
  'Uber',
  'Ulti',
  'Virtu',
  'Viper',
  'Way',
  'Widget',
  'Wis',
  'Wit',
  'Worth',
  'Zoom',
  'Zorg',
  'Zen',
])

const suffix = pick([
  'abit',
  'ach',
  'acker',
  'ation',
  'aton',
  'ator',
  'axial',
  'bar',
  'bit',
  'borg',
  'bot',
  'box',
  'byte',
  'cell',
  'cian',
  'clone',
  'com',
  'copy',
  'craft',
  'dex',
  'dox',
  'dummy',
  'factor',
  'force',
  'full',
  'fury',
  'gear',
  'graph',
  'ial',
  'ician',
  'ing',
  'insky',
  'kid',
  'ktro',
  'lian',
  'lord',
  'naut',
  'obot',
  'ocop',
  'olic',
  'opti',
  'oroid',
  'otic',
  'otron',
  'ping',
  'raptor',
  'roid',
  'rox',
  'scape',
  'slot',
  'space',
  'stage',
  'sync',
  'system',
  'tek',
  'tor',
  'trap',
  'trax',
  'tron',
  'tune',
  'unit',
  'ware',
  'wave',
  'xor',
  'yborg',
  'zone',
])

const noDooble = 'aiuyhjkqvwx'.split('')
const canEndDooble = 'fgs'.split('')
const vowels = 'aeiouy'.split('')
const v = pick(vowels)
const c = pick(('bcdfghklmnprstvwxz').split(''))
const veryRarely = () => Number(rand() > 0.9)
const rarely = () => Number(rand() > 0.75)
const coinFlip = () => Number(rand() > 0.5)

const getNext = (prev, picker) => {
  let char = picker()
  if (noDooble.indexOf(char) !== -1) {
    while (char === prev) {
      char = picker()
    }
  }
  return char
}

const gen = () => {
  const start = prefix()
  const end = suffix()
  const name = [start]
  if (vowels.indexOf(start[start.length-1]) !== -1) {
    name.push(c())
  }
  name.push(v(), c(), end)
  return name.join('')// +('0' + ~~(rand() * 100)).slice(-2)
}

gen.suffix = suffix
gen.prefix = prefix
module.exports = gen
